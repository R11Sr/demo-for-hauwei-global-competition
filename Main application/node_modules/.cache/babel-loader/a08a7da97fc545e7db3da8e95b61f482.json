{"ast":null,"code":"L.Photo = L.FeatureGroup.extend({\n  options: {\n    icon: {\n      iconSize: [40, 40]\n    }\n  },\n  initialize: function initialize(photos, options) {\n    L.setOptions(this, options);\n    L.FeatureGroup.prototype.initialize.call(this, photos);\n  },\n  addLayers: function addLayers(photos) {\n    if (photos) {\n      for (var i = 0, len = photos.length; i < len; i++) {\n        this.addLayer(photos[i]);\n      }\n    }\n\n    return this;\n  },\n  addLayer: function addLayer(photo) {\n    L.FeatureGroup.prototype.addLayer.call(this, this.createMarker(photo));\n  },\n  createMarker: function createMarker(photo) {\n    var marker = L.marker(photo, {\n      icon: L.divIcon(L.extend({\n        html: '<div style=\"background-image: url(' + photo.thumbnail + ');\"></div>​',\n        className: 'leaflet-marker-photo'\n      }, photo, this.options.icon)),\n      title: photo.caption || ''\n    });\n    marker.photo = photo;\n    return marker;\n  }\n});\n\nL.photo = function (photos, options) {\n  return new L.Photo(photos, options);\n};\n\nif (L.MarkerClusterGroup) {\n  L.Photo.Cluster = L.MarkerClusterGroup.extend({\n    options: {\n      featureGroup: L.photo,\n      maxClusterRadius: 100,\n      showCoverageOnHover: false,\n      iconCreateFunction: function iconCreateFunction(cluster) {\n        return new L.DivIcon(L.extend({\n          className: 'leaflet-marker-photo',\n          html: '<div style=\"background-image: url(' + cluster.getAllChildMarkers()[0].photo.thumbnail + ');\"></div>​<b>' + cluster.getChildCount() + '</b>'\n        }, this.icon));\n      },\n      icon: {\n        iconSize: [40, 40]\n      }\n    },\n    initialize: function initialize(options) {\n      options = L.Util.setOptions(this, options);\n      L.MarkerClusterGroup.prototype.initialize.call(this);\n      this._photos = options.featureGroup(null, options);\n    },\n    add: function add(photos) {\n      this.addLayer(this._photos.addLayers(photos));\n      return this;\n    },\n    clear: function clear() {\n      this._photos.clearLayers();\n\n      this.clearLayers();\n    }\n  });\n\n  L.photo.cluster = function () {\n    return new L.Photo.Cluster();\n  };\n}","map":{"version":3,"sources":["/home/taiga/Documents/UWI Y2 Semester 1/Seeds for the future program/demonstration/app/javascript/Leaflet.Photo.js"],"names":["L","Photo","FeatureGroup","extend","options","icon","iconSize","initialize","photos","setOptions","prototype","call","addLayers","i","len","length","addLayer","photo","createMarker","marker","divIcon","html","thumbnail","className","title","caption","MarkerClusterGroup","Cluster","featureGroup","maxClusterRadius","showCoverageOnHover","iconCreateFunction","cluster","DivIcon","getAllChildMarkers","getChildCount","Util","_photos","add","clear","clearLayers"],"mappings":"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","sourcesContent":["L.Photo = L.FeatureGroup.extend({\n\t\toptions: {\n\t\t\ticon: {\t\t\t\t\t\t\n\t\t\t\ticonSize: [40, 40]\n\t\t\t}\n\t\t},\n\t\n\t\tinitialize: function (photos, options) {\n\t\t\tL.setOptions(this, options);\n\t\t\tL.FeatureGroup.prototype.initialize.call(this, photos);\n\t\t},\n\t\n\t\taddLayers: function (photos) {\n\t\t\tif (photos) {\n\t\t\t\tfor (var i = 0, len = photos.length; i < len; i++) {\n\t\t\t\t\tthis.addLayer(photos[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\n\t\taddLayer: function (photo) {\t\n\t\t\tL.FeatureGroup.prototype.addLayer.call(this, this.createMarker(photo));\n\t\t},\n\t\n\t\tcreateMarker: function (photo) {\n\t\t\tvar marker = L.marker(photo, {\n\t\t\t\ticon: L.divIcon(L.extend({\n\t\t\t\t\thtml: '<div style=\"background-image: url(' + photo.thumbnail + ');\"></div>​',\n\t\t\t\t\tclassName: 'leaflet-marker-photo'\n\t\t\t\t}, photo, this.options.icon)),\n\t\t\t\ttitle: photo.caption || ''\n\t\t\t});\t\t\n\t\t\tmarker.photo = photo;\n\t\t\treturn marker;\n\t\t}\n\t});\n\t\n\tL.photo = function (photos, options) {\n\t\treturn new L.Photo(photos, options);\n\t};\n\t\n\tif (L.MarkerClusterGroup) {\n\t\n\t\tL.Photo.Cluster = L.MarkerClusterGroup.extend({\n\t\t\toptions: {\n\t\t\t\tfeatureGroup: L.photo,\t\t\n\t\t\t\tmaxClusterRadius: 100,\t\t\n\t\t\t\tshowCoverageOnHover: false,\n\t\t\t\ticonCreateFunction: function(cluster) {\n\t\t\t\t\treturn new L.DivIcon(L.extend({\n\t\t\t\t\t\tclassName: 'leaflet-marker-photo', \n\t\t\t\t\t\thtml: '<div style=\"background-image: url(' + cluster.getAllChildMarkers()[0].photo.thumbnail + ');\"></div>​<b>' + cluster.getChildCount() + '</b>'\n\t\t\t\t\t}, this.icon));\n\t\t\t\t   },\t\n\t\t\t\ticon: {\t\t\t\t\t\t\n\t\t\t\t\ticonSize: [40, 40]\n\t\t\t\t}\t\t   \t\t\n\t\t\t},\n\t\n\t\t\tinitialize: function (options) {\t\n\t\t\t\toptions = L.Util.setOptions(this, options);\n\t\t\t\tL.MarkerClusterGroup.prototype.initialize.call(this);\n\t\t\t\tthis._photos = options.featureGroup(null, options);\n\t\t\t},\n\t\n\t\t\tadd: function (photos) {\n\t\t\t\tthis.addLayer(this._photos.addLayers(photos));\n\t\t\t\treturn this;\n\t\t\t},\n\t\n\t\t\tclear: function () {\n\t\t\t\tthis._photos.clearLayers();\n\t\t\t\tthis.clearLayers();\n\t\t\t}\n\t\n\t\t});\n\t\n\t\tL.photo.cluster = function () {\n\t\t\treturn new L.Photo.Cluster();\t\n\t\t};\n\t\n\t}\n\n\n"]},"metadata":{},"sourceType":"module"}